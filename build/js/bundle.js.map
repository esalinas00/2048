{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/js/main.js","src/js/board.js","src/js/painter.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var Board = require('./board');\nvar Painter = require('./painter');\n\nvar MyPainter = new Painter();\nvar putato = new Board(4) \nconsole.log(putato);\n//putato.randomCell();\n//putato.randomCell();\nMyPainter.paintCell(putato.randomCell());\n\nMyPainter.paintCell(putato.randomCell());\n","function Board(size){\n\n\tthis.leBoard = [];\n\tthis.boardWitdh = size;\n\tthis.maxCells  = size * size;\n\n\t//Initialize the board\n\tfunction initBoard () {\n\t\tvar i = 0, j = 0;\n\t\tfor(; i < this.boardWitdh; i+=1 ){\n\t\t\tthis.leBoard.push([]);\n\t\t\tfor(j = 0; j < this.boardWitdh; j+=1 ){\n\t\t\t\tthis.leBoard[i][j] = 0;\n\t\t\t}\n\t\t}\n\t}\n\tinitBoard.call(this);\n}\n\nBoard.prototype.randomCell = function(){\n\tvar randomNumber;\n\tvar i = 0, j = 0;\n\tvar freeCell, x, y, randomValue;\n\tvar valueMappings = [2,2,2,2,4];\n\tvar flatBoard = [];\n\t\n\t//Traverse Array\n\tfor(; i < this.boardWitdh; i+=1 ){\n\t\tfor(j = 0; j < this.boardWitdh; j+=1 ){\n\t\t\tif(this.leBoard[i][j] == 0){\n\t\t\t\tflatBoard.push(i*this.boardWitdh+j);\n\t\t\t}\n\t\t}\n\t}\n\tif(!flatBoard.length){\n\t\tconsole.log(\"Gameover\");\n\t\treturn {gameover:true};\n\t}\n\tconsole.log(flatBoard);\t\n\trandomNumber = Math.floor((Math.random() * flatBoard.length));\n\t//convert randomNumber to coordinates\n\tfreeCell = flatBoard[randomNumber];\n\tx = Math.floor(freeCell/this.boardWitdh);\n\ty = freeCell % this.boardWitdh;\n\n\tvar randomValue = valueMappings[Math.floor((Math.random() * valueMappings.length))];\n\tthis.leBoard[x][y] = randomValue;\n\tthis.logBoard();\n\treturn { cellNumber: freeCell, cellValue: randomValue};\n};\n\nBoard.prototype.logBoard = function(){\n\tvar toLog = \"\";\n\tthis.leBoard.forEach(function(row, indexX, owner){\n\t\trow.forEach(function(item,indexY,owner){\n\t\t\ttoLog += item+\" \";\t\n\t\t});\n\t\ttoLog +=\"\\n\";\n\t});\n\tconsole.log(toLog);\n}\nmodule.exports = Board;","function Painter(){\n  var canvas = document.getElementById('game'); \n  var ctx;\n  var blockSize = 40;\n  var separation = 2;\n  var colorMappings = {\n    '2': 'rgb(238, 228, 218)',\n    '4':'rgb(237, 224, 200)',\n    '8':'rgb(242, 177, 121)',\n    '16':'rgb(245, 149, 99)',\n    '32':'rgb(246, 124, 95)',\n    '64':'rgb(246, 94, 59)',\n    '128':'rgb(237, 207, 114)',\n    '256':'rgb(237, 204, 97)',\n    '512':'rgb(237, 200, 80)',\n    '1024':'rgb(237, 197, 63)',\n    '2048':'rgb(237, 194, 46)'\n  };\n\n  if(canvas.getContext){\n  \tctx = canvas.getContext('2d');\n\n  \tfor (var i=0;i<4;i++){\n    \tfor (var j=0;j<4;j++){\n        ctx.beginPath();\n        ctx.fillStyle = \"#C0C0C0\";\n        //ctx.fillRect((40+separation)*i,(40+separation)*j,blockSize,blockSize);\n        roundedRect(ctx,(40+separation)*i,(40+separation)*j,blockSize,blockSize,4);\n    \t}\n  \t}\n  }\n\n  //opts.cellNumber , opts.cellValue, opts.gameover\n  this.paintCell = function(opts){\n    console.log(opts);\n    if (!opts.gameover){\n      var x = Math.floor(opts.cellNumber/4);\n      var y = opts.cellNumber%4;\n      console.log(opts.cellNumber,x,y);\n\n      ctx.beginPath(); \n      ctx.fillStyle = colorMappings[opts.cellValue.toString()];\n      roundedRect(ctx,(40+separation)*x,(40+separation)*y,blockSize,blockSize,4);\n    }\n  }\n}\n\nmodule.exports = Painter;\n\nfunction roundedRect(ctx,x,y,width,height,radius){\n  ctx.beginPath();\n  ctx.moveTo(x,y+radius);\n  ctx.lineTo(x,y+height-radius);\n  ctx.quadraticCurveTo(x,y+height,x+radius,y+height);\n  ctx.lineTo(x+width-radius,y+height);\n  ctx.quadraticCurveTo(x+width,y+height,x+width,y+height-radius);\n  ctx.lineTo(x+width,y+radius);\n  ctx.quadraticCurveTo(x+width,y,x+width-radius,y);\n  ctx.lineTo(x+radius,y);\n  ctx.quadraticCurveTo(x,y,x,y+radius);\n  ctx.fill();\n}"]}